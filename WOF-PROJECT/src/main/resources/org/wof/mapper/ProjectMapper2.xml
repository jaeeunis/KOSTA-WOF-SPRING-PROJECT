<?xml version="1.0" encoding="UTF-8"?>
 
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.wof.mapper.ProjectMapper2">


	<select id="ProjectList" resultType="org.wof.domain.ProjectVO">
	 <![CDATA[
		select proj_title, proj_apply_deadline, proj_work_place from 
		(
			select 
			rownum rn, proj_title, proj_apply_deadline, proj_work_place
			from project
			where rownum <= #{pageNum} * #{amount}
		)
		where rn > (#{pageNum} -1 ) * #{amount}
	  ]]>
	</select>
	
		<select id="ProjectList2" parameterType="String" resultType="org.wof.domain.ProjectVO">
		select * from project where proj_id = #{proj_id}
	</select>
	
	<select id="totalProject" resultType="java.lang.Integer">
		select count(*) from project
	</select>
	
	
	
	<select id="FollowProjectList" resultType="org.wof.domain.ProjectVO" >
      select p.*
	from follow_project fp, project p, mem_partner m 
	where p.proj_id = fp.related_proj and m.mem_id = fp.related_mem 
	and fp.related_mem = "member0009"
   </select>
   
   <insert id="addFollowProject" parameterType="org.wof.domain.FollowProjectVO">
   <![CDATA[
      INSERT INTO followproject VALUES (#{followproject_no}, #{related_project}, #{related_member}, sysdate)
    ]]>
   </insert>
   
   <delete id="deleteFollowProject" parameterType="java.lang.String">
   		delete from followproject where related_member = 'member28' and related_project = #{related_member}
   </delete> 

</mapper>